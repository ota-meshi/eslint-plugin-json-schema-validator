{"$schema":"http://json-schema.org/draft-07/schema","title":"pm2 ecosystem config file","definitions":{"app":{"type":"object","properties":{"script":{"type":"string"},"name":{"type":"string"},"cwd":{"type":"string"},"args":{"type":["array","string"],"items":{"type":"string"}},"interpreter":{"type":"string"},"node_args":{"type":["array","string"],"items":{"type":"string"}},"output":{"type":"string","default":"~/.pm2/logs/-out.log"},"error":{"type":"string","default":"~/.pm2/logs/-error.err"},"log":{"type":["boolean","string"],"default":"/dev/null"},"disable_logs":{"type":"boolean"},"log_type":{"type":"string","const":"json"},"log_date_format":{"type":"string"},"env":{"type":["object","string"],"additionalProperties":{"type":"string"}},"max_memory_restart":{"type":["string","number"]},"pid_file":{"type":"string"},"restart_delay":{"type":"number"},"source_map_support":{"type":"boolean","default":true},"disable_source_map_support":{"type":"boolean"},"wait_ready":{"type":"boolean"},"instances":{"type":"number","default":1},"kill_timeout":{"type":"number","default":1600},"listen_timeout":{"type":"number"},"cron_restart":{"type":"string"},"merge_logs":{"type":"boolean"},"vizion":{"type":"boolean","default":true},"autorestart":{"type":"boolean","default":true},"watch":{"type":["boolean","array","string"]},"ignore_watch":{"type":["array","string"]},"watch_options":{"type":"object"},"min_uptime":{"type":["number","string"],"default":1000},"max_restarts":{"type":"number","default":16},"exec_mode":{"type":"string","enum":["fork","cluster"],"default":"fork"},"force":{"type":"boolean"},"append_env_to_name":{"type":"boolean"},"post_update":{"type":"array","items":{"type":"string"}},"trace":{"type":"boolean"},"disable_trace":{"type":"boolean","default":true},"increment_var":{"type":"string"},"instance_var":{"type":"string"},"pmx":{"type":"boolean","default":true},"automation":{"type":"boolean","default":true},"treekill":{"type":"boolean","default":true},"port":{"type":"number"},"uid":{"type":"string"},"gid":{"type":"string"}},"patternProperties":{"^env_\\S*$":{"type":["object","string"],"additionalProperties":{"type":"string"}}},"required":["script"]},"deploymentEnvironment":{"type":"object","properties":{"key":{"type":"string"},"user":{"type":"string"},"host":{"type":["array","string"],"items":{"type":"string"}},"ssh_options":{"type":["string","array"],"items":{"type":"string"}},"ref":{"type":"string"},"repo":{"type":"string"},"path":{"type":"string"},"pre-setup":{"type":"string"},"post-setup":{"type":"string"},"pre-deploy-local":{"type":"string"},"post-deploy":{"type":"string"}}}},"type":"object","properties":{"apps":{"type":"array","items":{"$ref":"#/definitions/app"}},"deploy":{"type":"object","properties":{"production":{"$ref":"#/definitions/deploymentEnvironment"},"staging":{"$ref":"#/definitions/deploymentEnvironment"},"development":{"$ref":"#/definitions/deploymentEnvironment"}}}}}