{"$schema":"http://json-schema.org/draft-07/schema","title":"Taskfile YAML Schema","oneOf":[{"type":"object","properties":{"version":{"anyOf":[{"type":"number","const":3},{"type":"string","const":"3"}]},"env":{"$ref":"#/definitions/3/env"},"dotenv":{"type":"array","items":{"type":"string"}},"includes":{"type":"object","patternProperties":{"^.*$":{"anyOf":[{"type":"string"},{"type":"object","properties":{"taskfile":{"type":"string"},"dir":{"type":"string"}}}]}}},"silent":{"type":"boolean"},"output":{"type":"string","enum":["interleaved","group","prefixed"],"default":"interleaved"},"method":{"type":"string","enum":["none","checksum","timestamp"],"default":"checksum"},"vars":{"$ref":"#/definitions/3/vars"},"tasks":{"$ref":"#/definitions/3/tasks"},"run":{"$ref":"#/definitions/3/run"}},"additionalProperties":false,"required":["version","tasks"]}],"definitions":{"3":{"env":{"$ref":"#/definitions/3/vars"},"tasks":{"type":"object","patternProperties":{"^.*$":{"anyOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/3/task_call"}]}},{"$ref":"#/definitions/3/task"}]}}},"task":{"type":"object","additionalProperties":false,"properties":{"env":{"$ref":"#/definitions/3/env"},"desc":{"type":"string"},"summary":{"type":"string"},"vars":{"$ref":"#/definitions/3/vars"},"label":{"type":"string"},"run":{"$ref":"#/definitions/3/run"},"cmds":{"$ref":"#/definitions/3/cmds"},"dir":{"type":"string"},"deps":{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/3/task_call"}]}},"sources":{"type":"array","items":{"type":"string"}},"generates":{"type":"array","items":{"type":"string"}},"status":{"type":"array","items":{"type":"string"}},"method":{"type":"string","enum":["none","checksum","timestamp"],"default":"none"},"silent":{"type":"boolean"},"ignore_error":{"type":"boolean"},"prefix":{"type":"string"},"preconditions":{"type":"array","items":{"$ref":"#/definitions/3/precondition"}},"interactive":{"type":"boolean"}}},"cmds":{"type":"array","items":{"$ref":"#/definitions/3/cmd"}},"cmd":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/3/cmd_call"},{"$ref":"#/definitions/3/task_call"}]},"vars":{"type":"object","patternProperties":{"^.*$":{"anyOf":[{"type":["boolean","integer","null","number","string"]},{"$ref":"#/definitions/3/dynamic_var"}]}}},"dynamic_var":{"type":"object","properties":{"sh":{"type":"string"},"additionalProperties":false}},"task_call":{"type":"object","properties":{"task":{"type":"string"},"vars":{"$ref":"#/definitions/3/vars"}}},"cmd_call":{"type":"object","properties":{"cmd":{"type":"string"},"silent":{"type":"boolean"},"ignore_error":{"type":"boolean"}},"additionalProperties":false,"required":["cmd"]},"precondition":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/3/precondition_obj"}]},"precondition_obj":{"type":"object","properties":{"sh":{"type":"string"},"msg":{"type":"string"}}},"run":{"type":"string","enum":["always","once","when_changed"]}}}}