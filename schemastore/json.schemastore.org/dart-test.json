{"$schema":"http://json-schema.org/draft-07/schema","$id":"https://json.schemastore.org/dart-test","title":"dart_test.yaml","definitions":{"timeout":{"$comment":"Based on https://github.com/dart-lang/test/blob/3b8d3b90efd24f55f7316cd414716d1cb031761c/pkgs/test_api/lib/src/frontend/timeout.dart#L55-L68","oneOf":[{"const":"none","title":"No timeout"},{"type":"string","title":"Exact timeout","pattern":"^(?:[^a-df-zA-DF-Z\\s]+(?:[umUM][sS]|[dhmsDHMS])\\s?)+$","examples":["1m","30s","1m 30s"]},{"type":"string","title":"Multiplicative timeout","pattern":"^[^a-df-zA-DF-Z\\s]+[xX]$","examples":["12x","1.5X"]}]},"skip":{"oneOf":[{"type":"boolean","title":"Skip the test if true"},{"type":"string","title":"Reason for skipping the test"}]},"executable":{"type":"string"},"browserAndNodeSettings":{"type":"object","title":"Settings for browsers and Node.js","additionalProperties":false,"properties":{"arguments":{"type":"string","title":"Extra arguments to the executable"},"executable":{"oneOf":[{"$ref":"#/definitions/executable"},{"type":"object","additionalProperties":false,"properties":{"linux":{"$ref":"#/definitions/executable"},"mac_os":{"$ref":"#/definitions/executable"},"windows":{"$ref":"#/definitions/executable"}}}]},"headless":{"type":"boolean","title":"Run the browser in headless mode"}}},"foldStackFrameOptions":{"oneOf":[{"type":"object","additionalProperties":false,"properties":{"except":{"type":"array","items":{"type":"string"}}}},{"type":"object","additionalProperties":false,"properties":{"only":{"type":"array","items":{"type":"string"}}}}]},"testConfiguration":{"type":"object","$comment":"Based on https://github.com/dart-lang/test/blob/master/pkgs/test/doc/configuration.md#test-configuration","properties":{"timeout":{"$ref":"#/definitions/timeout"},"verbose_trace":{"type":"boolean","title":"Remove internal stack frames","default":false},"chain_stack_traces":{"type":"boolean","title":"Whether stack traces are chained"},"js_trace":{"type":"boolean","title":"Convert JS traces to Dart traces","default":false},"skip":{"$ref":"#/definitions/skip"},"retry":{"type":"number"},"test_on":{"type":"string","examples":["browser && !ie"]},"tags":{"type":"object","additionalProperties":{"$ref":"#/definitions/_testConfigurationInner"}},"add_tags":{"type":"array","items":{"type":"string"}},"on_platform":{"type":"object","additionalProperties":{"$ref":"#/definitions/_testConfigurationInner"}}}},"_testConfigurationInner":{"$comment":"presets and on_os can have different properties when used in a test vs runner configuration. We make runnerConfiguration extend from testConfiguration, so this configuration is used when we're definitely in a non-runner configuration context.","allOf":[{"$ref":"#/definitions/testConfiguration"},{"properties":{"presets":{"type":"object","additionalProperties":{"$ref":"#/definitions/testConfiguration"}},"on_os":{"type":"object","additionalProperties":{"$ref":"#/definitions/testConfiguration"}}}}]},"runnerConfiguration":{"allOf":[{"$comment":"Runner configurations are a superset of test configurations","$ref":"#/definitions/testConfiguration"},{"properties":{"include":{"type":"string","format":"uri"},"paths":{"type":"array","items":{"type":"string"},"default":["test"]},"filename":{"type":"string"},"names":{"type":"array","items":{"type":"string"}},"plain_names":{"type":"array","items":{"type":"string"}},"include_tags":{"type":"string"},"exclude_tags":{"type":"string"},"platforms":{"type":"array","items":{"type":"string"},"default":["vm"]},"concurrency":{"type":"integer"},"pause_after_load":{"type":"boolean"},"run_skipped":{"type":"boolean"},"reporter":{"type":"string","examples":["compact","expanded","json"]},"file_reporters":{"type":"object","additionalProperties":{"type":"string"}},"fold_stack_frames":{"$ref":"#/definitions/foldStackFrameOptions"},"custom_html_template_path":{"type":"string"},"presets":{"type":"object","additionalProperties":{"$ref":"#/definitions/runnerConfiguration"}},"add_presets":{"type":"array","items":{"type":"string"}},"on_os":{"type":"object","additionalProperties":{"$ref":"#/definitions/runnerConfiguration"}},"override_platforms":{"type":"object","additionalProperties":{"type":"object","properties":{"settings":{"$ref":"#/definitions/browserAndNodeSettings"}}}},"define_platforms":{"type":"object","additionalProperties":{"type":"object","properties":{"name":{"type":"string"},"extends":{"type":"string"},"settings":{"$ref":"#/definitions/browserAndNodeSettings"}}}}}}]}},"$ref":"#/definitions/runnerConfiguration"}