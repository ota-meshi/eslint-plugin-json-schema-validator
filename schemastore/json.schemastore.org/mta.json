{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://example.com/mta.schema.json","title":"com.sap.mta.mta-schema_3.3","$comment":"Based on https://github.wdf.sap.corp/mta/spec/blob/master/schemas/v3/v3.3/mta-schema.yaml","type":"object","required":["_schema-version","ID","version"],"properties":{"_schema-version":{"type":"string"},"ID":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"description":{"type":"string"},"version":{"type":"string","pattern":"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(-(0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(\\.(0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\\+[0-9a-zA-Z-]+(\\.[0-9a-zA-Z-]+)*)?$"},"provider":{"type":"string"},"copyright":{"type":"string"},"modules":{"type":"array","items":{"type":"object","required":["name","type"],"properties":{"name":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"type":{"type":"string"},"description":{"type":"string"},"path":{"type":"string"},"deployed-after":{"type":"array","items":{"type":"string"}},"properties":{"$ref":"#/definitions/properties"},"properties-metadata":{"$ref":"#/definitions/properties-metadata"},"parameters":{"$ref":"#/definitions/parameters"},"parameters-metadata":{"$ref":"#/definitions/parameters-metadata"},"hooks":{"$ref":"#/definitions/hooks"},"build-parameters":{"type":"object"},"includes":{"type":"array","items":{"type":"object","required":["name","path"],"properties":{"name":{"type":"string"},"path":{"type":"string"}}}},"provides":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"public":{"type":"boolean","default":false},"properties":{"$ref":"#/definitions/properties"},"properties-metadata":{"$ref":"#/definitions/properties-metadata"}}}},"requires":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"group":{"type":"string"},"list":{"type":"string"},"properties":{"$ref":"#/definitions/properties"},"properties-metadata":{"$ref":"#/definitions/properties-metadata"},"parameters":{"$ref":"#/definitions/parameters"},"parameters-metadata":{"$ref":"#/definitions/parameters-metadata"},"includes":{"type":"array","items":{"type":"object","required":["name","path"],"properties":{"name":{"type":"string"},"path":{"type":"string"}}}}}}}}}},"resources":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"type":{"type":"string"},"description":{"type":"string"},"properties":{"$ref":"#/definitions/properties"},"properties-metadata":{"$ref":"#/definitions/properties-metadata"},"parameters":{"$ref":"#/definitions/parameters"},"parameters-metadata":{"$ref":"#/definitions/parameters-metadata"},"includes":{"type":"array","items":{"type":"object","required":["name","path"],"properties":{"name":{"type":"string"},"path":{"type":"string"}}}},"optional":{"type":"boolean","default":false},"active":{"type":"boolean","default":true},"requires":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"properties":{"$ref":"#/definitions/properties"},"properties-metadata":{"$ref":"#/definitions/properties-metadata"},"parameters":{"$ref":"#/definitions/parameters"},"parameters-metadata":{"$ref":"#/definitions/parameters-metadata"},"includes":{"type":"array","items":{"type":"object","required":["name","path"],"properties":{"name":{"type":"string"},"path":{"type":"string"}}}}}}}}}},"parameters":{"$ref":"#/definitions/parameters"},"parameters-metadata":{"$ref":"#/definitions/parameters-metadata"},"includes":{"type":"array","items":{"type":"object","required":["name","path"],"properties":{"name":{"type":"string"},"path":{"type":"string"}}}}},"definitions":{"generic-memory":{"type":"string","pattern":"^[1-9][0-9]*(M|MB|G|GB|m|mb|g|gb)$"},"properties":{"type":"object"},"properties-metadata":{"type":"object","properties":{"overwritable":{"type":"boolean","default":true},"optional":{"type":"boolean","default":false},"datatype":{"enum":["str","int","float","bool"],"type":"string","default":"str"}}},"parameters":{"type":"object"},"parameters-metadata":{"type":"object","properties":{"overwritable":{"type":"boolean","default":true},"optional":{"type":"boolean","default":false}}},"includes":{"type":"array","items":{"type":"object","required":["name","path"],"properties":{"name":{"type":"string"},"path":{"type":"string"}}}},"hooks":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"type":{"type":"string","const":"task"},"phases":{"type":"array","items":{"type":"string","enum":["application.before-stop.live","application.before-stop.idle","application.after-stop.live","application.after-stop.idle"]}},"parameters":{"$ref":"#/definitions/hooks-parameters"},"parameters-metadata":{"$ref":"#/definitions/properties-metadata"},"requires":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","pattern":"^[A-Za-z0-9_\\-\\.]+$"},"parameters":{"type":"object"},"parameters-metadata":{"$ref":"#/definitions/properties-metadata"}}}}}}},"hooks-parameters":{"type":"object","required":["command"],"properties":{"name":{"type":"string"},"command":{"type":"string"},"memory":{"$ref":"#/definitions/generic-memory"},"disk-quota":{"$ref":"#/definitions/generic-memory"}}}}}