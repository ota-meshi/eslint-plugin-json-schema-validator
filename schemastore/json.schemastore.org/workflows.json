{"$schema":"http://json-schema.org/draft-07/schema#","title":"Google Cloud Workflows config file","anyOf":[{"$ref":"#/definitions/stepArray"},{"minItems":1,"additionalProperties":false,"patternProperties":{"^.*$":{"$ref":"#/definitions/subworkflow"}}}],"definitions":{"subworkflow":{"additionalProperties":false,"properties":{"params":{"type":"array","items":{"type":"string"}},"steps":{"$ref":"#/definitions/stepArray"}}},"stepArray":{"type":"array","minItems":1,"items":{"minItems":1,"maxItems":1,"additionalProperties":false,"patternProperties":{"^.*$":{"$ref":"#/definitions/step"}}}},"step":{"additionalProperties":false,"properties":{"call":{"type":"string","enum":["http.get","http.post","http.request","sys.sleep"]},"args":{"additionalProperties":false,"properties":{"url":{"anyOf":[{"type":"string","format":"uri"},{"type":"string"}]},"method":{"type":"string","enum":["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"]},"header":{"type":"object"},"body":{"type":"object"},"query":{"type":"object"},"auth":{"additionalProperties":false,"properties":{"type":{"enum":["OIDC","OAuth2"]}}},"timeout":{"type":"number"},"seconds":{"type":"number"}},"required":["url"]},"assign":{"type":"array","items":{"minItems":1,"maxItems":1}},"result":{"type":"string"},"switch":{"type":"array","items":{"additionalProperties":false,"properties":{"condition":{"type":"string"},"next":{"type":"string","default":"end"},"steps":{"$ref":"#/definitions/stepArray"},"return":{}},"required":["condition"]}},"next":{"type":"string","default":"end"},"return":{},"try":{"$ref":"#/definitions/step"},"retry":{"additionalProperties":false,"properties":{"predicate":{"type":"string"},"max_retries":{"type":"integer"},"backoff":{"additionalProperties":false,"properties":{"initial_delay":{"type":"integer"},"max_delay":{"type":"integer"},"multiplier":{"type":"integer"}}}}},"except":{"allOf":[{"$ref":"#/definitions/step"},{"additionalProperties":false,"properties":{"as":{"type":"string"},"steps":{"$ref":"#/definitions/stepArray"}}}]},"raise":{"anyOf":[{"type":"string"},{"type":"object"}]}}}}}