{"title":"JSON schema for Azure Functions Proxies proxies.json files","$schema":"http://json-schema.org/draft-07/schema","type":"object","properties":{"$schema":{"type":"string"},"proxies":{"type":"object","properties":{"<ProxyName>":{"$ref":"#/definitions/proxy-schema"}},"additionalProperties":{"$ref":"#/definitions/proxy-schema"}}},"additionalProperties":false,"required":["proxies"],"definitions":{"proxy-schema":{"type":"object","properties":{"desc":{"type":"array","items":{"type":"string"}},"matchCondition":{"$ref":"#/definitions/match-condition-schema"},"backendUri":{"type":"string"},"requestOverrides":{"$ref":"#/definitions/requestOverrides-schema"},"responseOverrides":{"$ref":"#/definitions/responseOverrides-schema"},"debug":{"type":"boolean"},"disabled":{"type":"boolean"}},"required":["matchCondition"],"additionalProperties":false,"default":{"matchCondition":{"route":""},"backendUri":""}},"match-condition-schema":{"type":"object","properties":{"route":{"type":"string"},"methods":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/http-method-schema"},"uniqueItems":true}},"additionalProperties":false,"required":["route"]},"requestOverrides-schema":{"type":"object","properties":{"backend.request.method":{"anyOf":[{"$ref":"#/definitions/http-method-schema"},{"$ref":"#/definitions/request-overrides-value-expression-schema"}]},"backend.request.querystring.<ParameterName>":{"$ref":"#/definitions/request-overrides-value-expression-schema"},"backend.request.headers.<HeaderName>":{"$ref":"#/definitions/request-overrides-value-expression-schema"}},"patternProperties":{"^backend\\.request\\.querystring\\..+$":{"$ref":"#/definitions/request-overrides-value-expression-schema"},"^backend\\.request\\.headers\\..+$":{"$ref":"#/definitions/request-overrides-value-expression-schema"}},"additionalProperties":false},"responseOverrides-schema":{"type":"object","properties":{"response.statusCode":{"$ref":"#/definitions/response-overrides-value-expression-schema"},"response.statusReason":{"$ref":"#/definitions/response-overrides-value-expression-schema"},"response.body":{"anyOf":[{"type":"string"},{"type":"object"},{"type":"array","minItems":1,"items":{"type":"object"}}]},"response.headers.<HeaderName>":{"$ref":"#/definitions/response-overrides-value-expression-schema"}},"patternProperties":{"^response\\.headers\\..+$":{"$ref":"#/definitions/response-overrides-value-expression-schema"}},"additionalProperties":false},"request-overrides-value-expression-schema":{"type":"string","defaultSnippets":[{"label":"Original Request Header","body":"{request.headers.<HeaderName>}"},{"label":"Original Request Query String Parameter","body":"{request.querystring.<ParameterName>}"},{"label":"Original Request Method","body":"{request.method}"}]},"response-overrides-value-expression-schema":{"type":"string","defaultSnippets":[{"label":"Backend Response Header","body":"{backend.response.headers.<HeaderName>}"},{"label":"Backend Response Status Code","body":"{backend.response.statusCode}"},{"label":"Backend Response Status Reason","body":"{backend.response.statusReason}"},{"label":"Original Request Header","body":"{request.headers.<HeaderName>}"},{"label":"Original Request Query String","body":"{request.querystring.<ParameterName>}"},{"label":"Original Request Method","body":"{request.method}"},{"label":"Backend Request Header","body":"{backend.request.headers.<HeaderName>}"},{"label":"Backend Request Query String","body":"{backend.request.querystring.<ParameterName>}"},{"label":"Backend Request Method","body":"{backend.request.method}"}]},"http-method-schema":{"enum":["GET","POST","HEAD","OPTIONS","PUT","TRACE","DELETE","PATCH","CONNECT"]}}}