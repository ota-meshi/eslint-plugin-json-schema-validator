{"$schema":"http://json-schema.org/draft-07/schema","title":"Sourcehut Build Manifest","type":"object","properties":{"image":{"type":"string"},"packages":{"type":"array","items":{"type":"string"}},"repositories":{"type":"object"},"sources":{"type":"array","items":{"type":"string"}},"tasks":true,"triggers":{"type":"array","items":{"type":"object","additionalProperties":true,"properties":{"action":{"type":"string","enum":["email","webhook"]},"condition":{"type":"string","enum":["always","failure","success"]}},"required":["action","condition"]}},"environment":{"type":"object"},"secrets":{"type":"array","items":{"type":"string"}}},"required":["image"]}